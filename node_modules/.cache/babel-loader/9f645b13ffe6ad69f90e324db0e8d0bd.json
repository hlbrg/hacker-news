{"ast":null,"code":"var _jsxFileName = \"/Users/hlbrg/Documents/ISOBAR/create-react-app/hacker-news/src/components/HackerNews.js\";\nimport * as React from \"react\";\nimport NewsItem from \"./NewsItem\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FIRST_500_STORIES_API_URL = \"https://hacker-news.firebaseio.com/v0/topstories.json\";\nconst STORY_URL = \"https://hacker-news.firebaseio.com/v0/item/\"; //${id}.json\";\n\nconst AUTHOR_URL = \"https://hacker-news.firebaseio.com/v0/user/\"; //${id}.json\";\n\nconst ARTICLE_COUNT = 10;\nexport default class HackerNews extends React.Component {\n  constructor(props) {\n    super(props);\n    this.articleList = [];\n    this.state = {\n      articleComponents: []\n    };\n  }\n\n  getRandomBetween(min, max) {\n    return Math.floor(Math.random() * max) + min;\n  }\n\n  getArticleIds(ids) {\n    if (!ids) return [];\n    let selectedArray = [];\n\n    for (let i = 0; i < this.articleCount; i++) {\n      selectedArray.push(ids[this.getRandomBetween(0, ids.length - 1)]);\n    }\n\n    return selectedArray;\n  }\n\n  updateState() {\n    this.setState({\n      articleComponents: this.articleList.map(article => /*#__PURE__*/_jsxDEV(NewsItem, {\n        article: article\n      }, article.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 17\n      }, this))\n    });\n  }\n\n  onAuthor(article, author) {\n    article.author = author;\n    this.articleList.push(article);\n    this.articleList.sort(this.sortArticles);\n    this.updateState();\n  }\n\n  logit(param) {\n    console.log(param);\n  }\n\n  getAuthor(article) {\n    if (!article) return;\n    fetch(AUTHOR_URL + article.by + \".json\").then(res => res.json()).then(result => {\n      this.logit(result);\n      this.onAuthor(article, result);\n    }, error => {\n      console.log(\"result error \", error);\n    });\n  }\n\n  sortArticles(a, b) {\n    return a.score === b.score ? 0 : a.score > b.score ? 1 : -1;\n  }\n\n  loadArticles(ids) {\n    let articleIds = this.getArticleIds(ids);\n\n    for (let articleIndex = 0; articleIndex < articleIds.length; articleIndex++) fetch(STORY_URL + articleIds[articleIndex] + \".json\").then(res => res.json()).then(result => {\n      this.getAuthor(result);\n    }, error => {\n      console.log(\"result error \", error);\n    });\n  }\n\n  componentDidMount() {\n    this.articleCount = this.props.config && this.props.config.articleCount || ARTICLE_COUNT;\n    fetch(FIRST_500_STORIES_API_URL).then(res => res.json()).then(result => {\n      this.loadArticles(result);\n    }, error => {\n      console.log(\"result error \", error);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"mainTitle\",\n        children: \"Top Hacker News stories!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 13\n      }, this), this.state.articleComponents]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 16\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/Users/hlbrg/Documents/ISOBAR/create-react-app/hacker-news/src/components/HackerNews.js"],"names":["React","NewsItem","FIRST_500_STORIES_API_URL","STORY_URL","AUTHOR_URL","ARTICLE_COUNT","HackerNews","Component","constructor","props","articleList","state","articleComponents","getRandomBetween","min","max","Math","floor","random","getArticleIds","ids","selectedArray","i","articleCount","push","length","updateState","setState","map","article","id","onAuthor","author","sort","sortArticles","logit","param","console","log","getAuthor","fetch","by","then","res","json","result","error","a","b","score","loadArticles","articleIds","articleIndex","componentDidMount","config","render"],"mappings":"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","sourcesContent":["import * as React from \"react\";\nimport NewsItem from \"./NewsItem\";\n\nconst FIRST_500_STORIES_API_URL = \"https://hacker-news.firebaseio.com/v0/topstories.json\";\nconst STORY_URL = \"https://hacker-news.firebaseio.com/v0/item/\";//${id}.json\";\nconst AUTHOR_URL = \"https://hacker-news.firebaseio.com/v0/user/\";//${id}.json\";\nconst ARTICLE_COUNT = 10;\n\nexport default class HackerNews extends React.Component {\n    articleCount;\n    articleList = [];\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            articleComponents:[]\n        }\n    }\n\n    getRandomBetween(min, max) {\n        return Math.floor(Math.random() * max) + min;\n    }\n\n    getArticleIds(ids) {\n        if (!ids) return [];\n        let selectedArray = [];\n        for (let i = 0; i < this.articleCount; i++){\n            selectedArray.push(ids[this.getRandomBetween(0, ids.length - 1)])\n        }\n        return selectedArray;\n    }\n\n    updateState() {\n        this.setState({\n            articleComponents: this.articleList.map((article) =>\n                <NewsItem key={article.id} article={article}/>\n            )\n        })\n    }\n\n    onAuthor(article, author) {\n        article.author = author\n        this.articleList.push(article)\n        this.articleList.sort(this.sortArticles)\n        this.updateState();\n    }\n\n    logit(param){\n        console.log(param)\n    }\n\n    getAuthor(article) {\n        if (!article) return\n        fetch(AUTHOR_URL + article.by + \".json\")\n            .then(res => res.json())\n            .then(\n                (result) => {\n                    this.logit(result)\n                    this.onAuthor(article, result)\n                },\n                (error) => {\n                    console.log(\"result error \", error)\n                }\n            )\n    }\n\n    sortArticles(a, b) {\n        return a.score === b.score ? 0 : (a.score > b.score ? 1 : -1 );\n    }\n\n    loadArticles(ids) {\n        let articleIds = this.getArticleIds(ids)\n        for (let articleIndex = 0; articleIndex < articleIds.length; articleIndex++)\n            fetch(STORY_URL + articleIds[articleIndex] + \".json\")\n                .then(res => res.json())\n                .then(\n                    (result) => {\n                        this.getAuthor(result)\n                    },\n                    (error) => {\n                        console.log(\"result error \", error)\n                    }\n                )\n    }\n\n    componentDidMount() {\n        this.articleCount = (this.props.config && this.props.config.articleCount) || ARTICLE_COUNT\n        fetch(FIRST_500_STORIES_API_URL)\n            .then(res => res.json())\n            .then(\n                (result) => {\n                    this.loadArticles(result)\n                },\n                (error) => {\n                    console.log(\"result error \", error)\n                }\n            )\n    }\n\n    render() {\n        return <div className=\"content\">\n            <h1 className=\"mainTitle\">Top Hacker News stories!</h1>\n            {this.state.articleComponents}\n        </div>;\n    }\n}\n"]},"metadata":{},"sourceType":"module"}